'use strict';const _0x157122=_0x39a3;function _0x39a3(_0x1250e0,_0x46ace1){const _0x562a92=_0x562a();return _0x39a3=function(_0x39a318,_0x8b44d4){_0x39a318=_0x39a318-0xce;let _0x4d5e5f=_0x562a92[_0x39a318];return _0x4d5e5f;},_0x39a3(_0x1250e0,_0x46ace1);}(function(_0x4abb05,_0x2eba9d){const _0x29475e=_0x39a3,_0x24b09e=_0x4abb05();while(!![]){try{const _0x2e9b97=-parseInt(_0x29475e(0xec))/0x1*(-parseInt(_0x29475e(0xd1))/0x2)+parseInt(_0x29475e(0xed))/0x3+-parseInt(_0x29475e(0xdc))/0x4*(parseInt(_0x29475e(0xd3))/0x5)+-parseInt(_0x29475e(0xd0))/0x6*(parseInt(_0x29475e(0xde))/0x7)+parseInt(_0x29475e(0xe4))/0x8+-parseInt(_0x29475e(0xee))/0x9*(-parseInt(_0x29475e(0xcf))/0xa)+parseInt(_0x29475e(0xe1))/0xb*(-parseInt(_0x29475e(0xe5))/0xc);if(_0x2e9b97===_0x2eba9d)break;else _0x24b09e['push'](_0x24b09e['shift']());}catch(_0x414983){_0x24b09e['push'](_0x24b09e['shift']());}}}(_0x562a,0x5fefc));const {RepositoryName,RepositoryFactory}=require(_0x157122(0xe9)),{ModelMapper}=require(_0x157122(0xe3)),{NotFoundError,ForbiddenError}=require(_0x157122(0xe2));function _0x562a(){const _0xecd5f8=['\x20not\x20found','retrieveList','1579149mrQebn','../errors/errors','./ModelMapper','4237888BztMUz','84SDDNBa','insert','queryByAdvancedFilter','content','../repository/RepositoryFactory','Achievement\x20id\x20','remove','1ZpFSxT','80640sZhoHr','133425DFSgUx','create','310phGIim','1786308ayvAse','1541954nZWvtj','exports','3115iKfeyn','deleteById','mapAchievementEntity','add','map','Achievement','User\x20is\x20not\x20the\x20owner\x20of\x20achievement\x20id\x20','mapAchievementDto','retrieve','588EUIXEH','modify','7VQpVDs'];_0x562a=function(){return _0xecd5f8;};return _0x562a();}async function ensureAchievement(_0x1f9c65,_0x48c40c){const _0x47d1ef=_0x157122,_0x306b5f=RepositoryFactory[_0x47d1ef(0xce)](RepositoryName['Achievement']);let _0x3580c5=await _0x306b5f['queryById'](_0x48c40c);if(!_0x3580c5)throw new NotFoundError([_0x47d1ef(0xea)+_0x48c40c+_0x47d1ef(0xdf)]);if(_0x3580c5['userId']!==_0x1f9c65['id'])throw new ForbiddenError([_0x47d1ef(0xd9)+_0x3580c5['id']]);return _0x3580c5;}module[_0x157122(0xd2)][_0x157122(0xd6)]=async(_0x2a0b56,_0x4df985)=>{const _0x49f85a=_0x157122,_0x5eaac5=ModelMapper[_0x49f85a(0xda)](_0x4df985,_0x2a0b56['id']),_0x3c8148=RepositoryFactory[_0x49f85a(0xce)](RepositoryName['Achievement']),_0x29e6ca=await _0x3c8148[_0x49f85a(0xe6)](_0x5eaac5);return ModelMapper[_0x49f85a(0xd5)](_0x29e6ca);},module[_0x157122(0xd2)][_0x157122(0xdd)]=async(_0x38d690,_0x2952bc,_0x520fd5)=>{const _0x4f2b09=_0x157122;let _0x51aaa2=await ensureAchievement(_0x38d690,_0x2952bc);const _0x36b0ed=RepositoryFactory[_0x4f2b09(0xce)](RepositoryName[_0x4f2b09(0xd8)]);return ModelMapper['updateAchievementDto'](_0x51aaa2,_0x520fd5),_0x51aaa2=await _0x36b0ed['update'](_0x51aaa2),ModelMapper[_0x4f2b09(0xd5)](_0x51aaa2);},module[_0x157122(0xd2)][_0x157122(0xeb)]=async(_0x2b33bd,_0x5a31db)=>{const _0x62c911=_0x157122;await ensureAchievement(_0x2b33bd,_0x5a31db);const _0x500cac=RepositoryFactory['create'](RepositoryName[_0x62c911(0xd8)]);await _0x500cac[_0x62c911(0xd4)](_0x5a31db);},module[_0x157122(0xd2)][_0x157122(0xdb)]=async(_0x3cceab,_0x3c8848)=>{const _0x7162a=_0x157122,_0xbd48c0=await ensureAchievement(_0x3cceab,_0x3c8848);return ModelMapper[_0x7162a(0xd5)](_0xbd48c0);},module['exports'][_0x157122(0xe0)]=async(_0x2dbb5d,_0x110a65,_0x40e9f6,_0x34fee7,_0x16093f)=>{const _0x52ddc7=_0x157122,_0x151cfc={'userId':_0x2dbb5d['id']},_0x1b7b07=RepositoryFactory['create'](RepositoryName[_0x52ddc7(0xd8)]);let _0x59d573=await _0x1b7b07[_0x52ddc7(0xe7)](_0x151cfc,null,_0x110a65,_0x40e9f6,_0x34fee7,_0x16093f);return _0x59d573['content']=_0x59d573[_0x52ddc7(0xe8)][_0x52ddc7(0xd7)](_0x2c768a=>ModelMapper[_0x52ddc7(0xd5)](_0x2c768a)),_0x59d573;};