'use strict';const _0x3972f3=_0x5ca2;(function(_0x10003e,_0x129a35){const _0x3511dd=_0x5ca2,_0x16b265=_0x10003e();while(!![]){try{const _0x4d7db7=parseInt(_0x3511dd(0x93))/0x1+-parseInt(_0x3511dd(0x7b))/0x2*(-parseInt(_0x3511dd(0x77))/0x3)+parseInt(_0x3511dd(0x72))/0x4*(-parseInt(_0x3511dd(0x87))/0x5)+parseInt(_0x3511dd(0x71))/0x6*(parseInt(_0x3511dd(0x86))/0x7)+-parseInt(_0x3511dd(0x96))/0x8*(-parseInt(_0x3511dd(0x8d))/0x9)+-parseInt(_0x3511dd(0x82))/0xa+-parseInt(_0x3511dd(0x76))/0xb*(parseInt(_0x3511dd(0x78))/0xc);if(_0x4d7db7===_0x129a35)break;else _0x16b265['push'](_0x16b265['shift']());}catch(_0x157b04){_0x16b265['push'](_0x16b265['shift']());}}}(_0x5bf5,0x2ad73));const {RepositoryName,RepositoryFactory}=require('../repository/RepositoryFactory'),{ModelMapper}=require(_0x3972f3(0x79)),{PagedResult}=require(_0x3972f3(0x95)),{NotFoundError,ForbiddenError}=require(_0x3972f3(0x8b));async function ensureExercise(_0x48a665,_0xf5dbbf,_0x335982=!![]){const _0x2b410a=_0x3972f3,_0x3fa52e=RepositoryFactory[_0x2b410a(0x94)](RepositoryName[_0x2b410a(0x8a)]),_0x5a0a5e=await _0x3fa52e['queryById'](_0xf5dbbf);if(!_0x5a0a5e)throw new NotFoundError(['Exercise\x20id\x20'+_0xf5dbbf+_0x2b410a(0x83)]);if(_0x335982&&_0x5a0a5e[_0x2b410a(0x7c)]!==_0x48a665['id'])throw new ForbiddenError([_0x2b410a(0x75)+_0xf5dbbf]);return _0x5a0a5e;}function _0x5bf5(){const _0x56faf7=['add','20415gqKNWs','create','../utils/PagedResult','56FzoCFo','36LPAEII','39868pOOGWF','remove','queryByAdvancedFilter','User\x20is\x20not\x20the\x20owner\x20of\x20exercise\x20id\x20','13002IGlDPy','12RJqLyg','3372VXVfDR','./ModelMapper','updateVideoDto','62032rZrWEs','userId','modify','mapVideoEntity','deleteById','content','queryById','185680xDekwK','\x20not\x20found','mapVideoDto','\x20\x20not\x20found','204995ObIILQ','35VJiBMw','retrieve','update','Exercise','../errors/errors','exports','354555pQpKBO','retrieveList','Video','Video\x20id\x20','insert'];_0x5bf5=function(){return _0x56faf7;};return _0x5bf5();}async function ensureVideo(_0x295b75){const _0x2a691c=_0x3972f3,_0x478893=RepositoryFactory[_0x2a691c(0x94)](RepositoryName[_0x2a691c(0x8f)]);let _0x583491=await _0x478893[_0x2a691c(0x81)](_0x295b75);if(!_0x583491)throw new NotFoundError([_0x2a691c(0x90)+_0x295b75+_0x2a691c(0x85)]);return _0x583491;}function _0x5ca2(_0x581f8b,_0x3530a3){const _0x5bf5c8=_0x5bf5();return _0x5ca2=function(_0x5ca2d4,_0x1710d0){_0x5ca2d4=_0x5ca2d4-0x71;let _0x27fcad=_0x5bf5c8[_0x5ca2d4];return _0x27fcad;},_0x5ca2(_0x581f8b,_0x3530a3);}module[_0x3972f3(0x8c)][_0x3972f3(0x92)]=async(_0x519d41,_0x4c9569,_0x3d4eb7)=>{const _0x145eb0=_0x3972f3;await ensureExercise(_0x519d41,_0x4c9569);const _0x38fea7=ModelMapper[_0x145eb0(0x84)](_0x3d4eb7,_0x4c9569),_0x2f1e33=RepositoryFactory[_0x145eb0(0x94)](RepositoryName['Video']),_0x535393=await _0x2f1e33[_0x145eb0(0x91)](_0x38fea7);return ModelMapper['mapVideoEntity'](_0x535393);},module[_0x3972f3(0x8c)][_0x3972f3(0x7d)]=async(_0x5d2fa5,_0x30430d,_0x1dd63f,_0x19b2a7)=>{const _0x429f79=_0x3972f3;await ensureExercise(_0x5d2fa5,_0x30430d);const _0x5329c8=RepositoryFactory[_0x429f79(0x94)](RepositoryName[_0x429f79(0x8f)]);let _0xf7fe32=await ensureVideo(_0x1dd63f);return ModelMapper[_0x429f79(0x7a)](_0xf7fe32,_0x19b2a7),_0xf7fe32=await _0x5329c8[_0x429f79(0x89)](_0xf7fe32),ModelMapper['mapVideoEntity'](_0xf7fe32);},module[_0x3972f3(0x8c)][_0x3972f3(0x73)]=async(_0x101fb8,_0x2b706b,_0x418baf)=>{const _0x1735fc=_0x3972f3;await ensureExercise(_0x101fb8,_0x2b706b);const _0x2f604e=RepositoryFactory[_0x1735fc(0x94)](RepositoryName[_0x1735fc(0x8f)]),_0x59bdb3=await _0x2f604e[_0x1735fc(0x7f)](_0x418baf);if(_0x59bdb3===0x0)throw new NotFoundError([_0x1735fc(0x90)+_0x418baf+'\x20not\x20found']);},module[_0x3972f3(0x8c)][_0x3972f3(0x88)]=async(_0x387840,_0x43b154,_0x5d4081)=>{await ensureExercise(_0x387840,_0x43b154,![]);const _0x20eab3=await ensureVideo(_0x5d4081);return ModelMapper['mapVideoEntity'](_0x20eab3);},module['exports'][_0x3972f3(0x8e)]=async(_0x10ce07,_0x21b68e,_0x1e13e5,_0x1a74c2,_0x37e022,_0x338ed4)=>{const _0x416061=_0x3972f3;await ensureExercise(_0x10ce07,_0x21b68e,![]);const _0x5289ec={'exerciseId':_0x21b68e},_0x588804=RepositoryFactory[_0x416061(0x94)](RepositoryName[_0x416061(0x8f)]);let _0x53abbc=await _0x588804[_0x416061(0x74)](_0x5289ec,null,_0x1e13e5,_0x1a74c2,_0x37e022,_0x338ed4);return _0x53abbc[_0x416061(0x80)]=_0x53abbc[_0x416061(0x80)]['map'](_0x267d88=>ModelMapper[_0x416061(0x7e)](_0x267d88)),_0x53abbc;};